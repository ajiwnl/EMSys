@model Student
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.7.1/dist/css/bootstrap.min.css">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.7.1/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<div class="row">
    <div class="col-sm-6 margincard position-absolute top-50 start-50 translate-middle">
        <div class="card bg-transparent border-0">
            <div class="card-body">
                <fieldset class="centerform" style="--clr:#00D116">
                    <form method="post" asp-action="Add" asp-controller="Student" id="studentform">
                        <div class="container">
                            <div class="row">
                                <div class="col">
                                    <label for="student" class="headerformats">Student Info</label>
                                </div>
                            </div>
                        </div>
                        <div class="container">
                            <div class="row mb-2">
                                <div class="col-9">
                                    <div class="form-floating">
                                        <input type="text" asp-for="STFSTUDID" class="form-control formatslabel" id="studid" maxlength="8" required>
                                        <label asp-for="STFSTUDID" for="studid"></label>
                                    </div>
                                </div>
                                <div class="col-3">
                                    <a class="btn btn-lg btn-warning bubbles-lg" data-toggle="tooltip" title="Input Student ID Example: 22232284" disabled>!</a>
                                </div>
                            </div>
                        </div>
                        <div class="container">
                            <div class="row mb-2">
                                <div class="col">
                                    <div class="form-floating">
                                        <input type="text" asp-for="STFSTUDLNAME" class="form-control formatslabel" maxlength="15" required>
                                        <label asp-for="STFSTUDLNAME" for="lname"></label>
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="form-floating">
                                        <input type="text" asp-for="STFSTUDMNAME" class="form-control formatslabel" id="middlen" maxlength="15">
                                        <label asp-for="STFSTUDMNAME" for="mname"></label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="container">
                            <div class="row mb-2">
                                <div class="col">
                                    <div class="form-floating mb-1">
                                        <input type="text" asp-for="STFSTUDFNAME" class="form-control formatslabel" maxlength="15" required>
                                        <label asp-for="STFSTUDFNAME" for="fname"></label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="container">
                            <div class="row mb-2">
                                <div class="col">
                                    <div class="form-floating mb-1">
                                    <input type="text" asp-for="STFSTUDCOURSE" class="form-control formatslabel" maxlength="10" required>
                                    <label asp-for="STFSTUDCOURSE" for="course">Course</label>
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="btn-group mx-auto" style="width: 100%">
                                        <button type="button" id="yearddbtn" class="btn btn-secondary btn-lg dropdown-toggle form-control" data-bs-toggle="dropdown" data-bs-display="static" aria-expanded="false">
                                            Year
                                        </button>
                                        <ul class="dropdown-menu dropdown-menu-lg-end">
                                            <li><button class="dropdown-item" type="button" onclick="selectedYear('1')">1st Year</button></li>
                                            <li><button class="dropdown-item" type="button" onclick="selectedYear('2')">2nd Year</button></li>
                                            <li><button class="dropdown-item" type="button" onclick="selectedYear('3')">3rd Year</button></li>
                                            <li><button class="dropdown-item" type="button" onclick="selectedYear('4')">4th Year</button></li>
                                        </ul>
                                    </div>
                                    <input type="text" asp-for="STFSTUDYEAR" class="formatstext hidden" id="year" maxlength="3">
                                </div>
                                <div class="col-4">
                                    <div class="btn-group mx-auto" style="width: 100%">
                                        <button type="button" id="remarksddbtn" class="btn btn-secondary btn-lg dropdown-toggle form-control" data-bs-toggle="dropdown" data-bs-display="static" aria-expanded="false">
                                            Remarks
                                        </button>
                                        <ul class="dropdown-menu dropdown-menu-lg-end">
                                            <li><button class="dropdown-item" type="button" onclick="selectedRemarks('Shiftee')">Shiftee</button></li>
                                            <li><button class="dropdown-item" type="button" onclick="selectedRemarks('Transferee')">Transferee</button></li>
                                            <li><button class="dropdown-item" type="button" onclick="selectedRemarks('New')">New</button></li>
                                            <li><button class="dropdown-item" type="button" onclick="selectedRemarks('Old')">Old</button></li>
                                            <li><button class="dropdown-item" type="button" onclick="selectedRemarks('Cross-Enrollee')">Cross-Enrollee</button></li>
                                        </ul>
                                    </div>
                                    <input type="text" asp-for="STFSTUDREMARKS" class="formatstext hidden" id="remarks" maxlength="15">
                                </div>
                            </div>
                        </div>
                        <div class="container">
                            <div class="row ms-2">
                                <div class="col">
                                    <div class="form-group text-center btn-container"> 
                                        <input type="submit" class="btn btn-success" style="width: 100%" value="SAVE">
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="form-group text-center btn-container">
                                        <input type="submit" class="btn btn-danger" style="width: 100%" id="cancelBtn" value="CANCEL">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </fieldset>
            </div>
        </div>
    </div>
</div>

<div>
    <a asp-controller="Student" asp-action="Index" class="btnback2"
       type="submit" style="--clr:#00D116">
        <span>View</span><i></i>
    </a>
</div>

<div>
    <a asp-controller="Home" asp-action="Index" class="btnback" style="--clr:#FC43C5" onclick="optionSelected('bg')">
        <span>Back</span><i></i>
    </a>
</div>

<header>
    <div class="logo">Student</div>
    <div class="hamburger">
        <div class="line"></div>
        <div class="line"></div>
        <div class="line"></div>
    </div>
    <nav class="nav-bar mt-3">
        <ul>
            <li>
                <a asp-controller="Student" asp-action="Add" class="active">Student</a>
            </li>
            <li>
                <a asp-controller="Subject" asp-action="Add">Subject</a>
            </li>
            <li>
                <a asp-controller="SubjectSched" asp-action="Add">Schedule</a>
            </li>
            <li>
                <a asp-controller="Enrollment" asp-action="Add">Enrollment</a>
            </li>
        </ul>
    </nav>
</header>

<script>
    // Function to clear input fields and reset dropdowns
    function clearInputFields() {
        $("input[name='STFSTUDID']").val('');
        $("input[name='STFSTUDFNAME']").val('');
        $("input[name='STFSTUDMNAME']").val('');
        $("input[name='STFSTUDLNAME']").val('');
        $("input[name='STFSTUDCOURSE']").val('');
        $("input[name='STFSTUDYEAR']").val('');
        $("input[name='STFSTUDREMARKS']").val('');
        $("#yearddbtn").text("Year"); // Reset the "Offering" dropdown
        $("#remarksddbtn").text("Remarks"); // Reset the "Category" dropdown
        // Clear values of other input fields as needed
    }

    // Call the clearFormFields function when the page loads
    window.onload = clearInputFields;

    // Click event for the "CANCEL" button
    $('#cancelBtn').click(function () {
        clearInputFields();
        // Prevent the form from submitting
        return false;
    });

    $(document).ready(function () {
        $('[data-toggle="tooltip"]').tooltip();
    });
</script>

@if (TempData.ContainsKey("FieldError"))
{
    <script>
        var fieldError = '@TempData["FieldError"]';
        Swal.fire({
            icon: 'error',
            title: 'Field Validation Entry Error',
            text: fieldError,
        });
    </script>
}

@if (TempData.ContainsKey("DuplicateError"))
{
    <script>
        var duplicateError = '@TempData["DuplicateError"]';
        Swal.fire({
            icon: 'error',
            title: 'Duplicate Error',
            text: duplicateError,
        });
    </script>
}

@if (TempData.ContainsKey("SuccessMessage"))
{
    <script>
        var successMessage = '@TempData["SuccessMessage"]';
        Swal.fire({
            icon: 'success',
            title: 'Success',
            text: successMessage,
        });
    </script>
}

<style>
    header {
        width: 103%;
        height: 60px;
        background: #11101b;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 100px;
        margin-left: -3%;
    }

    .logo {
        font-size: 28px;
        font-weight: bold;
        color: #fefefe;
    }

    .hamburger {
        display: none;
    }

    .nav-bar ul {
        display: flex;
        list-style: none;
        box-sizing: border-box;
    }

        .nav-bar ul li a {
            display: block;
            color: #fefefe;
            font-size: 20px;
            padding: 10px 25px;
            border-radius: 25px;
            transition: 0.2s;
            margin: 0 5px;
            text-decoration: none;
        }

            .nav-bar ul li a:hover {
                color: #11101b;
                background: #fefefe;
            }

    @@media only screen and (max-width: 1320px) {
        header {
            padding: 0 50px;
        }
    }

    @@media only screen and (max-width: 1110px) {
        header {
            padding: 0 30px;
        }
    }

    @@media only screen and (max-width: 900px) {
        .hamburger {
            display: block;
            cursor: pointer;
        }

            .hamburger .line {
                width: 30px;
                height: 3px;
                background: #fefefe;
                margin: 6px 0;
            }

        .nav-bar {
            height: 0;
            position: absolute;
            top: 44px;
            left: 0;
            right: 0;
            width: 100vw;
            background: #11101b;
            transition: 0.5s;
            overflow: hidden;
        }

            .nav-bar.active {
                height: 350px;
            }

            .nav-bar ul {
                display: block;
                width: fit-content;
                margin: 80px auto 0 auto;
                text-align: center;
                transition: 0.5s;
                opacity: 0;
            }

            .nav-bar.active ul {
                opacity: 1;
            }

            .nav-bar ul li a {
                margin-bottom: 12px;
            }
    }
</style>

<script>
    hamburger = document.querySelector(".hamburger");
    hamburger.onclick = function () {
        navBar = document.querySelector(".nav-bar");
        navBar.classList.toggle("active");
    }
</script>